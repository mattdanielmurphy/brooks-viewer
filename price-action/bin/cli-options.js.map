{"version":3,"sources":["../src/cli-options.js"],"names":["parseInput","Promise","resolve","reject","program","version","argument","action","date","test","year","month","split","map","v","Number","console","error","showHelpAfterError","parse"],"mappings":";;;;;;;AAAA;;AAEA,eAAeA,UAAf,GAA4B;AAC3B,SAAO,MAAM,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACnDC,uBACEC,OADF,CACU,OADV,EAEEC,QAFF,CAEW,WAFX,EAEwB,iBAFxB,EAGEC,MAHF,CAGUC,IAAD,IAAU;AACjB,UAAI,iBAAiBC,IAAjB,CAAsBD,IAAtB,CAAJ,EAAiC;AAChC,cAAM,CAACE,IAAD,EAAOC,KAAP,IAAgBH,IAAI,CAACI,KAAL,CAAW,GAAX,EAAgBC,GAAhB,CAAqBC,CAAD,IAAOC,MAAM,CAACD,CAAD,CAAjC,CAAtB;;AACA,YAAIJ,IAAI,GAAG,IAAP,IAAgBA,IAAI,KAAK,IAAT,IAAiBC,KAAK,GAAG,CAA7C,EAAiD;AAChDK,UAAAA,OAAO,CAACC,KAAR,CACC,2DADD;AAGAd,UAAAA,MAAM;AACN,SALD,MAKO;AACND,UAAAA,OAAO,CAAC,CAACQ,IAAD,EAAOC,KAAP,CAAD,CAAP;AACA;AACD,OAVD,MAUO;AACNK,QAAAA,OAAO,CAACC,KAAR,CACC,yEADD;AAGAd,QAAAA,MAAM;AACN;AACD,KApBF,EAqBEe,kBArBF;;AAuBAd,uBAAQe,KAAR;AACA,GAzBY,CAAb;AA0BA;;eAEcnB,U","sourcesContent":["import { program } from 'commander'\n\nasync function parseInput() {\n\treturn await new Promise(function (resolve, reject) {\n\t\tprogram\n\t\t\t.version('0.0.1')\n\t\t\t.argument('<yyyy-mm>', 'month to scrape')\n\t\t\t.action((date) => {\n\t\t\t\tif (/\\d{4}\\-\\d{1,2}/.test(date)) {\n\t\t\t\t\tconst [year, month] = date.split('-').map((v) => Number(v))\n\t\t\t\t\tif (year < 2009 || (year === 2009 && month < 6)) {\n\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\"Error: requested month is older than Brooks' forum posts.\",\n\t\t\t\t\t\t)\n\t\t\t\t\t\treject()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve([year, month])\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Error: you did not provide a date string in the correct format: yyyy-mm',\n\t\t\t\t\t)\n\t\t\t\t\treject()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.showHelpAfterError()\n\n\t\tprogram.parse()\n\t})\n}\n\nexport default parseInput\n"],"file":"cli-options.js"}